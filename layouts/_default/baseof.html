<!DOCTYPE html>
<html lang="es" data-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Título dinámico -->
    {{ $title := .Title }} {{ if eq .Kind "home" }} {{ $title = "Kasnia Project" }}
    {{ else }} {{ $title = printf "%s ─ Kasnia Project" .Title }}
    {{ end }}
    <title>{{ $title }}</title> 

    <!-- Meta comunes -->
    <meta
      property="og:description"
      content="Somos un grupo dedicado a traducir novelas ligeras al español. Nos enfocamos en hacer un trabajo de calidad."
    />
    <meta property="og:title" content="Kasnia Project" />
    <meta property="og:image" content="/img/icon/og.jpg" />
    <meta property="og:url" content="https://kasniaproject.us.kg" />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Kasnia Project" />
    <meta
      name="twitter:description"
      content="Grupo de traducción de novelas ligeras del inglés al español."
    />
    <meta name="twitter:image" content="/img/icon/og.jpg" />
    <link rel="canonical" href="{{ .Permalink }}" />

    <!-- Favicon -->
    <link rel="icon" href="/img/icon/favicon.ico" type="image/x-icon" />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/img/icon/apple-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/img/icon/favicon-32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/img/icon/favicon-16.png"
    />

    <!-- CSS común -->
    {{ $mainCSS := resources.Get "css/main.css" | minify | fingerprint }}
    <link rel="stylesheet" href="{{ $mainCSS.Permalink }}" />

    <!-- Bloque para CSS específicos -->
    {{ block "css" . }}{{ end }}

    <!-- JS común -->
    {{ $themeJS := resources.Get "js/theme.js" | minify | fingerprint }}
    <script src="{{ $themeJS.Permalink }}"></script>
  </head>
  <body>
    <!-- Header común -->
    <header>
      <nav class="navbar" aria-label="Navegación principal">
        <div class="navbarContainer">
          <a href="/" class="navbarLogo" aria-label="Ir a la página principal">
            <svg class="logo" viewBox="0 0 793.4 543.8">
              <use href="/img/svg/main.svg#logo" />
            </svg>
          </a>

          <div class="navbarRight">
            <ul class="navbarLinks">
              <li><a href="/novelas">Novelas</a></li>
              <li><a href="/staff">Staff</a></li>
              <li><a href="/donaciones">Donaciones</a></li>
            </ul>

            <button
              class="themeToggle"
              id="themeToggle"
              aria-label="Cambiar tema"
            >
              <svg class="sunIcon">
                <use href="/img/svg/main.svg#sunIcon" />
              </svg>
              <svg class="moonIcon">
                <use href="/img/svg/main.svg#moonIcon" />
              </svg>
            </button>

            <button
              class="menuToggle"
              id="menuToggle"
              aria-label="Abrir menú"
              aria-expanded="false"
              aria-controls="mobileMenu"
            >
              <svg class="menuIcon">
                <use href="/img/svg/main.svg#menuIcon" />
              </svg>
              <svg class="closeIcon">
                <use href="/img/svg/main.svg#closeIcon" />
              </svg>
            </button>
          </div>
        </div>
      </nav>

      <nav class="mobileMenu" id="mobileMenu" aria-label="Menú móvil">
        <ul class="mobileMenuLinks">
          <li><a href="/novelas">Novelas</a></li>
          <li><a href="/staff">Staff</a></li>
          <li><a href="/donaciones">Donaciones</a></li>
        </ul>
      </nav>
    </header>

    <!-- Contenido de la página -->
    <main>{{ block "main" . }}{{ end }}</main>

    <!-- Footer común -->
    <footer>
      <div class="footerContainer">
        <div class="footerContent">
          <div class="footerBrand">
            <svg
              class="footerLogoSvg"
              viewBox="0 0 793.4 543.8"
              aria-label="Kasnia Project Logo"
            >
              <use href="/img/svg/main.svg#logo" />
            </svg>
            <p class="footerDescription">
              Traduciendo novelas ligeras al español con calidad y dedicación.
              Únete a nuestra comunidad.
            </p>
          </div>

          <div class="footerLinksGroup">
            <div class="footerLinksSection">
              <h4 class="footerHeading">Navegación</h4>
              <ul class="footerList">
                <li><a href="/" class="footerLink">Inicio</a></li>
                <li><a href="/novelas" class="footerLink">Novelas</a></li>
                <li><a href="/staff" class="footerLink">Staff</a></li>
              </ul>
            </div>

            <div class="footerLinksSection">
              <h4 class="footerHeading">Legal</h4>
              <ul class="footerList">
                <li><a href="/dmca" class="footerLink">DMCA</a></li>
                <li><a href="/privacy" class="footerLink">Privacidad</a></li>
              </ul>
            </div>
          </div>

          <div class="footerSocial">
            <h4 class="footerHeading">Síguenos</h4>
            <div class="socialIconsContainer">
              <a
                href="https://www.facebook.com/profile.php?id=61569583498113"
                target="_blank"
                rel="noopener noreferrer"
                class="socialLink"
                aria-label="Facebook"
              >
                <svg class="footerIcon">
                  <use href="/img/svg/main.svg#facebookIcon"></use>
                </svg>
              </a>
            </div>
          </div>
        </div>

        <div class="footerBottom">
          <p>&copy; 2025 Kasnia Project. Todos los derechos reservados.</p>
        </div>
      </div>
    </footer>

    <div class="backToTopContainer">
      <button id="backToTop" class="backToTop" aria-label="Volver arriba">
        <svg>
          <use href="/img/svg/main.svg#arrowUp" />
        </svg>
      </button>
    </div>

    <!-- JS común -->
    {{ $mainJS := resources.Get "js/main.js" | minify | fingerprint }}
    <script src="{{ $mainJS.Permalink }}"></script>

    <!-- Bloque para JS específicos -->
    {{ block "js" . }}{{ end }}
  </body>
</html>
